<div data-identifier="{{ identifier }}" data-base-type="{{ baseType }}" {% if attributes.id %}id="{{ attributes.id }}"{% endif %} class="qti-interaction qti-blockInteraction qti-extendedTextInteraction{% if attributes.class %} {{ attributes.class }}{% endif %}" data-serial="{{ serial }}" data-qti-class="extendedTextInteraction">
    {% if prompt %}{{ prompt }}{% endif %}
    <div class="instruction-container"></div>
    {% if multiple %}
        {% if attributes.format == "xhtml" %}
            {% for idx in maxStringLoop %}
                <div class="text-container text-{{ attributes.format }} solid{% if attributes.class %} {{ attributes.class }}{% endif %}" name="{{ attributes.identifier }}_{{ idx }}" contenteditable></div>
            {% endfor %}
        {% else %}
            {% for idx in maxStringLoop %}
                <textarea class="text-container text-{{ attributes.format }} solid{% if attributes.class %} attributes.class{% endif %}" name="{{ attributes.identifier }}_{{ idx }}" {% if attributes.patternMask %}pattern="{{ attributes.patternMask }}"{% endif %}></textarea>
            {% endfor %}
        {% endif %}
        {# If there's an expected length or a max length #}
        {% if attributes.expectedLength %}
            <div class="text-counter">
                <span class="count-chars">0</span> of {{attributes.expectedLength}} chars recommended.
            </div>
        {% endif %}
        {% if maxLength %}
            <div class="text-counter">
                <span class="count-chars">0</span> of {{maxLength}} chars maximum.
            </div>
        {% endif %}
        {# If there's a max words #}
        {% if maxWords %}
            <div class="text-counter">
                <span class="count-words">0</span> of {{ maxWords }} words maximum.
            </div>
        {% endif %}
    {% else %}
        {% if attributes.format == "xhtml" %}
            <!--<div class="text-container text-{{ attributes.format }} solid{% if attributes.class %} attributes.class{% endif %}" contenteditable></div>-->
            <textarea class="text-container text-{{ attributes.format }} solid{% if attributes.class %} attributes.class{% endif %}" {% if attributes.patternMask %}pattern="{{ attributes.patternMask }}"{% endif %}></textarea>
        {% else %}
            <textarea class="text-container text-{{ attributes.format }} solid{% if attributes.class %} attributes.class{% endif %}" {% if attributes.patternMask %}pattern="{{ attributes.patternMask }}"{% endif %}></textarea>
        {% endif %}
        {# If there's an expected length or a max length #}
        {% if attributes.expectedLength %}
            <div class="text-counter">
                <span class="count-chars">0</span> of {{ attributes.expectedLength }} chars recommended.
            </div>
        {% endif %}
        {% if maxLength %}
            <div class="text-counter">
                <span class="count-chars">0</span> of {{ maxLength }} chars maximum.
            </div>
        {% endif %}
        {# If there's a max words #}
        {% if maxWords %}
            <div class="text-counter">
                <span class="count-words">0</span>  of {{ maxWords }} words maximum.
            </div>
        {% endif %}
    {% endif %}
</div>
